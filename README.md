# LABORATORY HUSKY

[![Maintainability Status](https://api.codeclimate.com/v1/badges/f6f7ed79501f794ce74d/maintainability)](https://codeclimate.com/github/JustalK/REACT-APP/maintainability)

## Goal

Husky is a small software for customizing the git command and run code or run command at a particular stage of git. For example, on this repository, I run the linter everytime I push to the repository.

## Plan of the presentation

I explain with all the details how I build the project and my way of working.

- [Documentation](#documentation)
- [Organization](#organization)
- [Development](#development)
- [Running](#running)
- [Commands](#commands)

## Documentation

#### Tutorial

- First, you need to install husky on your project :
```bash
$ npm install husky --save-dev
```

- Then run the husky command for initializing husky, it will create the husky folder :
```bash
$ npx husky install
```
- Add the following line inside the **"script"** in the folder `package.json` :
```
"prepare": "husky install"
```
Now everybody installing the project will get the husky installed.
- Create the hook that you need :
```bash
$ npx husky add .husky/pre-commit "npm run linter:fix"
```
- And finally, dont forget to add it to the project :
```bash
$ git add .husky/pre-commit
```

And voila, husky is installed and everytime, you will push, husky will run the command written inside the folder `./husky/pre-commit`

#### Hook available

Basically, you can just create any hook for git command with the suffixe and prefixe **pre-** and **post-**.

The most famous and interesting hook are the following :

- **pre-commit** : Just before writting a commit.
- **commit-msg** : This hook is created just after the writing of the commit but before his creation.
- **post-commit** : Just after the creation of the commit

But there are a lot more : applypatch-msg, pre-applypatch, post-applypatch, pre-rebase, post-checkout, post-merge, pre-push, pre-receive, update, post-receive

yYou can create those hook the same way as previously, using the following command for creating the file inside the folder `./husky` :

```bash
$ npx husky add .husky/post-commit
```

#### Code documentation

The jsdoc can be generated locally with the following command :

```bash
$ npm run build:docs
```

## Organization
#### Organization of the global folder

| Folder's Name | Description of the folder                               |
| :------------ | :------------------------------------------------------ |
| .husky        | The modification on the Hook                            |
| out           | The documentation generated by jsdoc                    |
| public        | Regroup the images and public files                     |
| src           | Regroup the source code                                 |

#### Organization of the src folder

| Folder's Name | Description of the folder                               |
| :------------ | :------------------------------------------------------ |
| components    | Regroup the components used inside the pages            |
| constants     | Regroup the exported constants                          |
| pages         | Regroup the components representing the pages           |
| services      | Regroup the services of the app                         |
| styles        | Regroup the scss files                                  |


## Development
#### Packages

- **react-app-rewired**: Allow us to rewrite the config of React without ejecting the app
- **customize-cra**: Allow us to rewrite the config of webpack and create module alias
- **eslint**: For linting the code with EsLint
- **@babel/eslint-parser**: Changing the parser for having access to eslint in babel
- **eslint-config-airbnb**: For having the set of rules airbnb for eslint
- **eslint-plugin-import**: For managing the alias import with eslint
- **eslint-plugin-react**: For managing the react rules
- **prettier**: For formating the style of the code
- **eslint-plugin-prettier**: For using the prettier package with esLint
- **sass**: For using the SASS css preprocessor (scss)
- **jsdoc**: For managing the dev documentation of the project
- **react-router-dom**: For managing the router and the path to the differents pages
- **react-helmet**: For managing the meta of the differents page
- **husky**: For modifying the git command

## Running

For running the API, a single command is needed.

```
npm run start
```

## Commands

- **npm run start**: Run the build version on a local server
- **npm run dev**: Run the linter and then the project in Devlopment mode
- **npm run build**: Build the project
- **npm run test**: Run the test of the project
- **npm run eject**: Eject the application (sometimes necessary)
- **npm run linter:fix**: Run the linter and fix the errors
- **npm run build:docs**: Build the documentation from the comments in the code
- **npm run check-update**: Check if the package are up to date (for now, everything is except the testing and webvital)
